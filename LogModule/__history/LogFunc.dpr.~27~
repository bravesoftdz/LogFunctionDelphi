library LogFunc;

{ Hyper Yazýlým adýna yazýlmýþtýr, izinsiz kullanýlmasý yasaktýr!

 Author: halil han badem }

uses
  System.SysUtils,
  System.Classes,
  Winapi.Windows;
{$R *.res}


Procedure Log(SLog: String);
var
 StringL: TStringList;
 buf: array[0..260] of char;
 Yol: String;
begin
 GetModuleFileName(HInstance, buf, Length(buf));
 StringReplace(buf, '\LogFunc.dll', Trim(''), [rfReplaceAll, rfIgnoreCase]);

 if FileExists(buf+'\databaseconnection.log') then
 begin
   StringL := TStringList.Create;
   StringL.LoadFromFile(buf+'\databaseconnection.log');
   StringL.Add('['+DateTimeToStr(Date)+']: '+SLog);
   StringL.SaveToFile(buf+'\databaseconnection.log');
 end
 else
 begin
   StringL := TStringList.Create;
   StringL.Add('['+DateTimeToStr(Date)+']: '+SLog);
   StringL.SaveToFile(buf+'\databaseconnection.log');
 end;
end;

 Exports Log;

begin
end.
